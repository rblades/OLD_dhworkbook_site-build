<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Shawn Graham">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Exercises - HIST3814o Crafting Digital History</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Exercises";
    var mkdocs_page_input_path = "module-3/Exercises.md";
    var mkdocs_page_url = "/module-3/Exercises/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> HIST3814o Crafting Digital History</a>
        <a href="#skip-nav">Skip navigation menu</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <label hidden for="search-box" aria-hidden="false">Search Documents
    </label>
    <input id="search-box" type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
  <ul class="current">
    
          
            <li class="toctree-l1">
    
    <a class="" href="../..">Home</a>
      </li>
          
            <li class="toctree-l1">
    
    <a class="" href="../../introduction/crafting-digital-history/">Getting Started</a>
      </li>
          
            <li class="toctree-l1">
    
    <span class="caption-text">1. Open Access Research</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../module-1/Open-Access-Research/">Why you should be open</a>
                </li>
                <li class="">
                    
    <a class="" href="../../module-1/Exercises/">Exercises</a>
                </li>
    </ul>
      </li>
          
            <li class="toctree-l1">
    
    <span class="caption-text">2. Finding Data</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../module-2/Finding Data/">How do we find data?</a>
                </li>
                <li class="">
                    
    <a class="" href="../../module-2/Exercises/">Exercises</a>
                </li>
    </ul>
      </li>
          
            <li class="toctree-l1">
    
    <span class="caption-text">3. Fixing Data</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Wrangling Data/">Data is messy</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Exercises</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#module-3-exercises">Module 3 Exercises</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#exercise-1-regular-expressions">Exercise 1: Regular Expressions</a></li>
        
            <li><a class="toctree-l4" href="#exercise-2-open-refine">Exercise 2: Open Refine</a></li>
        
            <li><a class="toctree-l4" href="#your-final-project">Your final project</a></li>
        
            <li><a class="toctree-l4" href="#going-further">Going Further</a></li>
        
        </ul>
    

    </ul>
                </li>
    </ul>
      </li>
          
            <li class="toctree-l1">
    
    <span class="caption-text">4. Analysis</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../module-4/Seeing Patterns/">Seeing Patterns</a>
                </li>
                <li class="">
                    
    <a class="" href="../../module-4/Exercises/">Exercises</a>
                </li>
    </ul>
      </li>
          
            <li class="toctree-l1">
    
    <span class="caption-text">5. Visualization</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../module-5/Humanities Visualization/">Communicating your Findings</a>
                </li>
                <li class="">
                    
    <a class="" href="../../module-5/Exercises/">Exercises (OPTIONAL)</a>
                </li>
    </ul>
      </li>
          
            <li class="toctree-l1">
    
    <a class="" href="../../conclusion/conclusion/">6. Final Thoughts</a>
      </li>
          
            <li class="toctree-l1">
    
    <span class="caption-text">Appendices</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../supporting materials/tei/">Text Encoding Initiative</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/git-rstudio/">Git in RStudio</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/regex/">Introduction to Regular Expressions (regex)</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/regexex/">Regex & the Republic of Texas</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/open-refine/">Open Refine</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/ner/">Stanford Named Entity Recognizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/regex-ner/">Going further with regex</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/quick-intro-r/">Quick intro to R</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/cyoa.txt/">Choose Your Own Adventure</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/geoparsing-w-python.txt/">Geoparsing with Python</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/glitch/">Glitch</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/gephi.txt/">Social Network Analysis with Gephi</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/multimode-networks.txt/">Multimode Networks</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/graphing-the-net.txt/">Graphing the Net</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/topicmodel-r-dhbox/">Topic Modeling, DH Box</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/topicmodel-r-yourmachine/">Topic Modeling, Local</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/netviz/">Network visualization with igraph</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/inkscape/">Inkscape</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/gh-pages/">GitHub Pages</a>
                </li>
                <li class="">
                    
    <a class="" href="../../supporting materials/leaflet.txt/">Leaflet</a>
                </li>
    </ul>
      </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">HIST3814o Crafting Digital History</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>3. Fixing Data &raquo;</li>
        
      
    
    <li>Exercises</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/shawngraham/dhworkbook/tree/gh-pages/edit/master/docs/module-3/Exercises.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <a name="skip-nav" aria-label="Anchor link destination for skipping navigation"></a>
          <div role="main">
            <div class="section">
              
                <h1 id="module-3-exercises">Module 3 Exercises</h1>
<p>The exercises in this module cover:</p>
<ul>
<li>Cleaning text with regular expressions</li>
<li>Cleaning files with Open Refine</li>
</ul>
<hr />
<h2 id="exercise-1-regular-expressions">Exercise 1: Regular Expressions</h2>
<p>When we have text that has been marked up, we can do interesting things with it. In the previous module, you saw that XSL can be used to add styles to your XML (which a browser can interpret and display). You can see how having those tags makes for easier searching for information as well, right? Sometimes things are not well marked up. Sometimes, it's all a real mess. In this exercise, we'll explore 'regular expressions', (AKA 'Regex') or ways of asking the computer to search for <strong>patterns</strong> rather than matching exact text.</p>
<p>This exercise follows a tutorial written for <a href="http://themacroscope.org">The Macroscope</a>. Another good reference is the <a href="http://www.regular-expressions.info/">regular expressions website</a>.</p>
<p>You should open <a href="http://www.regexr.com/">RegeXr</a>, an interactive tutorial that shows us what various regular expressions can do, in a browser window so you can test your regular expressions out <strong>before</strong> applying them to your data! We will use the power of regular expressions to search for particular patterns in a published volume of the correspondence of the Republic of Texas. We'll use regex to massage the information into a format that we can then use to generate a social network of letter writers over time. (You might also want to try the <a href="http://programminghistorian.org/lessons/understanding-regular-expressions">Programming Historian tutorial Understanding Regular Expressions</a>.)</p>
<p>What if you had <strong>a lot</strong> of documents that you needed to clean up? One way of doing it would be to write a Python program that applied your regex automatically, across all the files in a folder. <strong>Optional advanced exercise</strong>: <a href="http://programminghistorian.org/lessons/cleaning-ocrd-text-with-regular-expressions">Cleaning OCR'd Text with Regular Expressions</a>.</p>
<p>For this exercise, do the following: </p>
<ol>
<li>
<p>Start with <a href="../../supporting materials/regex/">a gentle introduction to regex</a>.</p>
</li>
<li>
<p>Then begin the <a href="../../supporting materials/regexex/">regex exercise</a>.</p>
</li>
</ol>
<p><strong>Remember to copy your history file and any other information, observations, or thoughts to your GitHub repo.</strong></p>
<hr />
<h2 id="exercise-2-open-refine">Exercise 2: Open Refine</h2>
<p><strong>Open Refine</strong> is the final tool we'll explore in this module. This engine allows us to clean up our messy data. We will feed it the results from Exercise 2 in order to consolidate individuals (ie. 'Shawn' and 'S4awn' are probably the same person, so Open Refine will consolidate that information for us). This exercise also follows a tutorial originally written for <a href="http://themacroscope.org">The Macroscope</a>.</p>
<p>Open Refine does not run in DH Box, so use the File Manager in DH Box to move your <code>cleaned-correspondence</code> file to somewhere safe on your computer.</p>
<p>For this exercise, do the following: </p>
<ol>
<li>The <a href="../../supporting materials/open-refine/">Open Refine exercise in our supporting materials</a>.</li>
</ol>
<p>For more advanced usage of Open Refine, as an optional exercise you can also try <a href="http://programminghistorian.org/lessons/cleaning-data-with-openrefine">The Programming Historian's Tutorial on Open Refine</a>.</p>
<p><strong>Remember to copy your notes and any other information/observations/thoughts to your GitHub repo.</strong></p>
<h2 id="your-final-project">Your final project</h2>
<p>You can use what you've been learning here to do some clean-up on the Canadian war diary files (or a subset of them, of course, as suits your interests &mdash; you have explored them, haven't you?). Google for <strong>sed patterns</strong> and see if you can combine what you find with what you've learned in this module in order to clean up the text. For instance, a common error in OCR is to confuse the letter <code>i</code> with the letter <code>l</code> and the numeral <code>1</code>. Shawville becomes Shawvllle. You could use grep to see if that error is present, and then sed to correct it. The file names are long, and there are several hundred; you might give this kind of thing a try too:</p>
<p><code>$ find . -type f -exec sed -i.bak "s/foo/bar/g" {} \;</code></p>
<p>This command finds all files in a folder and creates a backup for each one in turn before searching for <strong>foo</strong> and replacing it with <strong>bar</strong>.</p>
<p>The command <code>$ grep "[b-df-hj-np-tv-xz]\{5\}" filename</code> will find all instances of strings of five consonants or more, which can be useful to give you an idea of what kinds of sed patterns to write.</p>
<p>Maybe, if you inspect the PDF and the txt files together, you can figure out patterns that set off interesting things in say the classified ads or the editorials &mdash; and then write some grep and sed to create new files with just that information. Then you could use Open Refine to further clean things up. Maybe the messiness of the data is <a href="https://smgprojects.github.io/experiment-bad-equity/">exactly the point</a> (<a href="https://smgprojects.github.io/experiment-determining-bad-ocr-via-automated-spellcheck/">and my workup on bad OCR</a>) you want to explore. Nevertheless:</p>
<p><strong>Cleaning data is 80% of the work in digital history.</strong></p>
<p><strong>Remember to copy your notes and any other information/observations/thoughts to your GitHub repo.</strong></p>
<h2 id="going-further">Going Further</h2>
<ul>
<li>
<p>See some of the suggestions at the end of the <a href="../../supporting materials/open-refine/">Open Refine exercise</a>.</p>
</li>
<li>
<p>The <strong>Stanford Named Entity Recognizer</strong> is a program that enables you to automatically tag words in your corpus according to whether or not they are place names, individuals, and so on. The output can then be subsequently extracted and visualized. Try the <a href="../../supporting materials/ner/">NER exercise in our supporting materials</a>.</p>
</li>
<li>
<p><a href="http://programminghistorian.org/lessons/research-data-with-unix">Counting and Mining Data with Unix</a></p>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../module-4/Seeing Patterns/" class="btn btn-neutral float-right" title="Seeing Patterns"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Wrangling Data/" class="btn btn-neutral" title="Data is messy"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

The Crafting Digital History site is built with <a href="http://www.mkdocs.org">MkDocs</a> using a theme provided by <a href="https://readthedocs.org">Read the Docs</a>. All documents are available on <a href="https://github.com/shawngraham/dhworkbook/tree/gh-pages"> GitHub</a>. I thank Reclaim Hosting for their help, support, and example in getting this site up and running.
</footer>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>
<script>
  $(document).ready(function(){
    // Target your .container, .wrapper, .post, etc.
    $(".section").fitVids();
  });
</script>
    
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/shawngraham/dhworkbook/tree/gh-pages" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../Wrangling Data/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../module-4/Seeing Patterns/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
